title: >-
  Incorporating groundwater discharge processes into process-guided deep-learning temperature models


abstract: >-
  This data release and model archive provides all data, code, and modeling results used in Barclay et al. (2023)
  to assess the ability of process-guided deep learning stream temperature models to accurately incorporate groundwater-discharge processes.
  We assessed the performance of an existing process-guided deep learning stream temperature model of the Delaware River Basin (USA) and
  explored four approaches for improving groundwater process representation: 1) a custom loss function that leverages the unique patterns
  of air and water temperature coupling resulting from different temperature drivers, 2) inclusion of additional groundwater-relevant
  catchment attributes, 3) incorporation of additional process model outputs, and 4) a composite model. The associated manuscript examines
  changes in the predictive accuracy, feature importance, and predictive ability in un-seen reaches resulting from each of the four approaches.
  This data release includes XXX zipped folders for 1) Data Preparation, 2) Model Code, and 3) Model Predictions. Instructions for running
  data preparation code and modeling code can be found in the README.md files in 01_Data_Prep and 02_Model_Code respectively.
      
authors: ["Barclay, Janet R", "Topp, Simon N", "Koenig Snyder, Lauren E", "Sleckman, Margaux J", "Sadler, Jeffrey M", "Appling, Alison P"]
pubdate: 2023 
doi: https://doi.org/10.5066/P9KO49OT

build-environment: Multiple computer systems were used to generate these data, including linux, OSX. The open source languages R and Python were used on all systems.

# ----associated publication----
larger-cites:
  -
    authors: ["Jordan S. Read", "Xiaowei Jia", "Jared Willard", "Alison P. Appling", "Jacob A. Zwart","Samantha K. Oliver","Anuj Karpatne","Gretchen J.A. Hansen", "Paul C. Hanson", "William Watkins", "Michael Steinbach","Vipin Kumar"]
    title: >-
      Process-guided deep learning predictions of lake water temperature
    pubdate: 2019

# ----supporting publications----    
cross-cites:
  -
    authors: ['Luke A. Winslow','Gretchen J.A. Hansen','Jordan S. Read','Michael Notaro']
    title: >-
      Large-scale modeled contemporary and future water temperature estimates for 10,774 Midwestern U.S. Lakes
    pubdate: 2017
    link: http://dx.doi.org/10.1038/sdata.2017.53

process-date: !expr format(Sys.time(),'%Y%m%d')
file-format: a single comma-delimited file and a single zipped shapefile

entities:
  -
    data-name: 01_Data_Prep.zip
    data-description: A zipped file containing code and input files to retrieve and format data for modelling
    attributes:
    -
      attr-label: modflow_data_extraction.zip
      attr-def: A zipped file containing python code scripts, environment files, and output data in `data_out' from MODFLOW [XX define]. Please see README.md and data dictionary for detail description of specific files.  
      attr-defs: >-
        This model archive
      data-min: NA
      data-max: NA
      data-units: NA
    -
      attr-label: river-dl_data_prep.zip 
      attr-def: A zipped file containing python code scripts, environment files, and output log files and data in `log_out` adn `data_out' for river-dl model runs [XX define]. Please see README.md for detail description of specific files.
      attr-defs: >-
        
      data-min: NA
      data-max: NA
      data-units: NA
    -
      attr-label: CatchmentAttributes.zip 
      attr-def: A zipped file containing input datasets and code script used to process attributes for XX [XX define]. Please see README.md for detail description of specific files.
      attr-defs: >-
        
      data-min: NA
      data-max: NA
      data-units: NA
  -
    data-name: 02_Model_Code.zip
    data-description: A zip file containing...
    attributes:
    -
      attr-label: river-dl.zip
      attr-def: A zipped file containing river-dl model code, environment files, and worflow examples. Please see README.md for detail description of specific files and how to run model.
      attr-defs: >-
        citation or URL of x. If citation, should appear in cross-cites. Can use NA or "This release"
      data-min: NA
      data-max: NA
      data-units: NA  
  -
    data-name: 03_Model_Predictions.zip
    data-description: A zip file containing model outputs and data_dictionary table.  XX
    attributes:
    -
      attr-label: model_outputs.zip
      attr-def: A zipped file containing river-dl model outputs. Add README.md for details on the the output folders
      attr-defs: >-
        citation or URL of x. If citation, should appear in cross-cites. Can use NA or "This release"
      data-min: NA
      data-max: NA
      data-units: NA  
    -
      attr-label: data_dictionary.xlsx
      attr-def: Microsoft excel file describing model predictions. XX
      attr-defs: >-
        citation or URL of x. If citation, should appear in cross-cites. Can use NA or "This release"
      data-min: NA
      data-max: NA
      data-units: NA  
 


purpose: Fisheries biology, limnological research, and climate science.
start-date: 19800401
end-date: 20191231

update: none planned
themekeywords: ["machine learning", "deep learning", "hybrid modeling", "water","temperature", "temperate lakes","reservoirs","modeling","climate change","thermal profiles"]

usage-rules: >-
  These data are open access usable via creative commons as long as original data providers are acknowledged

data-publisher: U.S. Geological Survey
indirect-spatial: U.S.A.
latitude-res: 0.00001
longitude-res: 0.00001

# ----contacts----
contact-person: Margaux J. Sleckman
contact-phone: 608-821-3922
contact-email: msleckman@usgs.gov
contact-position: Data Scientist
contact-address: "8505 Research Way"
contact-city: Middleton
contact-state: WI
contact-zip: 53562

metadata-person: Margaux J. Sleckman
metadata-position: Data Scientist
metadata-phone: 608-821-3921
metadata-fax: 608-821-3817
metadata-email: msleckman@usgs.gov
metadata-address: "8505 Research Way"
metadata-city: Middleton
metadata-state: WI
metadata-zip: 53562
metadata-date: !expr format(Sys.time(),'%Y%m%d')

accur-test: No formal attribute accuracy tests were conducted.
funding-credits: >-
  This study was funded by the [add funding details here]
  This research used resources of the Core Science Analytics and Synthesis Advanced Research Computing program at the U.S. Geological Survey.

process-description: >-
  Details of processing steps contained within this release are below, for additional information please
  see the relevant README.md and file_dictionaries.csv within each zipped folder:
  
  (Processed in 01_Data_Prep)
  This is the initial data preparation step for the model. The model data preparation was split into the 3 following sections:
    1) modflow_data_extraction 
    2) river-dl_data_prep 
    3) CatchmentAttributes. 
        a. Identified relevant variables (e.g. local soil characteristics data, river channel confinement data, local bedrock data)
        b. Gathered the relevant basin catchment characteristics from Wieczorek et al., 2021 from sciencebase.gov for the Delaware River Basin using an automated data fetch process with the pre-populated data source table stored in CatchmentAttributes/drb-gw-hw-model-prep/1_fetch/in/nhdv2_attributes_from_sciencebase.csv 
        c. Gathered additional attributes such as channel confinement from McManamay and DeRolph (2018), depth to bedrock measurements from Shangguan et al., 2016. 
        d. Aggregated all relevant basin characteristics for the model into a combined nhm_attributes feather file. This aggregated nhm_attributes dataset can be found in CatchmentAttributes/drb-gw-hw-model-prep/2b_nhm_process_nhm_groundwater/nhm_attributes_20230316.feather
  
  (Processed in 02_Model_Code)
  This step contains the code for the model. 

  (Processed in 03_Model_Predictions)
  

distro-person: Janet R. Barkley
liability-statement: >-
  Unless otherwise stated, all data, metadata and related materials are considered to satisfy the quality standards relative to the purpose for which the data were collected.
  Although these data and associated metadata have been reviewed for accuracy and completeness and approved for release by the U.S. Geological Survey (USGS),
  no warranty expressed or implied is made regarding the display or utility of the data on any other system or for general or scientific purposes, nor shall
  the act of distribution constitute any such warranty.
